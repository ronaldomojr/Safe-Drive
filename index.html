<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="login.css">
    <link rel="shortcut icon" href="favicon/favicon.ico" type="image/x-icon">
</head>

<body>
    <div class="container">
        <main class="conteudo">
            <section>
                <h1 class="bemvindo">Bem Vindo!</h1>
                <p class="credenciais">Insira suas credenciais para acessar sua conta</p>
            </section>

            <form id="loginForm">
                <div class="campo">
                    <label>Endereço de email</label>
                    <input type="email" id="email" placeholder="Digite seu e-mail" pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" required>
                </div>

                <div class="campo">
                    <div class="senha-topo">
                        <label>Senha</label>
                        <a href="#" class="esqueci">Esqueci minha senha</a>
                    </div>
                    <input type="password" id="senha" placeholder="Digite aqui sua senha" required>
                    <div class="requisitos-senha">
                        
                    </div>
                </div>

                <section class="lembre-se">
                    <input type="checkbox" id="lembrete" checked>
                    <label for="lembrete">Lembre-se por 30 dias</label>
                </section>

                <section>
                    <button type="submit" class="botlogin">Login</button>
                </section>
            </form>

            <div class="divisor">Ou</div>

            <section class="login-social">
                <a href="google.html" class="social-btn" target="_blank">
                    <img src="Imagens/google-logo.png" width="20" alt="Google">
                    Entrar com Google
                </a>
                <a href="apple.html" class="social-btn" target="_blank">
                    <img src="Imagens/apple.png" width="20" alt="Apple">
                    Entrar com Apple
                </a>
            </section>

            <p class="cadastro">Não tem uma conta? <a href="cadastro.html">Cadastre-se</a></p>
        </main>

        <div class="imagem">
            <img src="Imagens/image-removebg-preview (1).png" alt="Logo Safe Drive">
        </div>
    </div>

    <script>
        // Validação da senha forte
        document.getElementById('loginForm').addEventListener('submit', function(event) {
            event.preventDefault();
            
            const senha = document.getElementById('senha').value;
            const email = document.getElementById('email').value;
            
            // Expressão regular para senha forte
            const regexSenhaForte = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/;
            
            // Validação básica do email
            const regexEmail = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            
            // Verificar se o email é válido
            if (!regexEmail.test(email)) {
                alert('Por favor, insira um endereço de email válido.');
                return;
            }
            
            // Verificar se a senha atende aos requisitos
            if (!regexSenhaForte.test(senha)) {
                alert('A senha deve ter pelo menos 8 caracteres, incluindo uma letra maiúscula, uma minúscula, um número e um caractere especial (!@#$%^&*).');
                return;
            }
            
            // Se passar na validação, redirecionar
            window.location.href = 'p_safedrive.html';
        });

        // Validação em tempo real da senha
        document.getElementById('senha').addEventListener('input', function() {
            const senha = this.value;
            
            // Verificar cada requisito
            const temTamanho = senha.length >= 8;
            const temMaiuscula = /[A-Z]/.test(senha);
            const temMinuscula = /[a-z]/.test(senha);
            const temNumero = /\d/.test(senha);
            const temEspecial = /[!@#$%^&*]/.test(senha);
            
            // Atualizar visualização dos requisitos
            atualizarRequisito('req-tamanho', temTamanho, 'Pelo menos 8 caracteres');
            atualizarRequisito('req-maiuscula', temMaiuscula, 'Uma letra maiúscula');
            atualizarRequisito('req-minuscula', temMinuscula, 'Uma letra minúscula');
            atualizarRequisito('req-numero', temNumero, 'Um número');
            atualizarRequisito('req-especial', temEspecial, 'Um caractere especial (!@#$%^&*)');
        });
        
        function atualizarRequisito(id, condicao, texto) {
            const elemento = document.getElementById(id);
            if (condicao) {
                elemento.innerHTML = '✓ ' + texto;
                elemento.style.color = '#28a745';
            } else {
                elemento.innerHTML = '✗ ' + texto;
                elemento.style.color = '#dc3545';
            }
        }
    </script>
</body>

</html>